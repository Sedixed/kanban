{% extends 'base.html.twig' %}

{% block title %}Créer un Kanban{% endblock %}

{% block body %}

<div class="container">

    <h1 class="mt-4">Créer un Kanban</h1>

    {{ form_start(form) }}
    
    {{ form_errors(form) }}

    {{ form_row(form.name) }}
    <div class="form-check form-switch">
        {{ form_row(form.privacy) }}
    </div>

    <h2 class="mt-4">Colonnes du Kanban</h2>
    <ul id="columns" class="list-group"
        data-index="{{ form.columns|length > 0 ? form.columns|last.vars.name + 1 : 0 }}"
        data-prototype="{{ form_widget(form.columns.vars.prototype)|e('html_attr') }}">
        <li class="d-flex"><input class="form-control mt-4" type="text" value="Stories" readonly></li>
        <li class="d-flex" id="last_col"><input class="form-control mt-4" type="text" value="Terminées" readonly></li>
    </ul>
    <button type="button" class="btn btn-primary add-item mt-4" data-collection-holder-class="columns">Nouvelle colonne</button>

    {# CSRF protection #}
    {{ form_row(form._token) }}

    {{ form_end(form) }}
</div>

{% endblock %}